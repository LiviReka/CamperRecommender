## Data Preprocessing

1) Translation to english
- the dataset is primarily in spanish, and some fields are in various languages. To standardize, we translate all fields to english
- invoice codes are converted to their description for easier use
- product groups and color field values translated to english

2) Conversion of applicable fields to booleans
- several field values were recorded as yes or no in a mix of languages. These are converted to True/False

3) Data cleaning
- 0s in age field are converted to nulls
- season field is cleaned removing spaces, punctuation, leading digits
- text separated with punctuation is joined in sole subtype

## User and Item matrix creation for initial model

### Dimensionality reduction
1) Field removal
- certain fields contain information already tracked in another field. These fields, part of "drop cols", are removed.
- other fields contain novel information, but contained too many discrete values with no way of grouping. 

2) Grouping
- the color field was parsed to remove adjectives and reduce number of discrete values

### One-hot encoding 
1) Isolation of product-specific fields
- We keep only fields that are descriptive of an item (item_fields). 
- Of the resulting data we remove rows duplicated on item id.

2) Encoding
- categorical fields are one-hot encoded and boolean fields are converted to binary (0/1) encoding

3) Creation of user matrix
- a unique user-product lookup is generated from the list of all product purchases
- encoded product values are merged onto this table
- the user matrix is generated by grouping by user id and keeping max value (1 if a user ever purchased an item with a specific attribute)